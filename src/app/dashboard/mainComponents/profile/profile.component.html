<main>
  <div class="mainContainerLeft">
    <div class="mainContainerLeftImage">
      <div class="image"></div>
    </div>
    <div class="mainContainerLeftInfo px-3 pb-3">
      <h4 class="text-center p-2 w-100 fw-semibold">Information personnelle</h4>
      <div class="mainContainerLeftInfoDetail px-4">
        <h5 class="mb-4">Nom complet: <span>{{ currentUser.prenom + " " + currentUser.nom }}</span></h5>
        <h5 class="mb-4">Email: <span>{{ currentUser.email }}</span></h5>
        <h5 class="mb-4">Addresse: <span>{{ currentUser.adresse }}</span></h5>
        <h5 class="mb-4">Telephone: <span>{{ currentUser.telephone }}</span></h5>
      </div>
    </div>
  </div>

  <div class="mainContainerRight pt-3">
    <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active navTabsButton" id="updateInfo-tab" data-bs-toggle="pill"
          data-bs-target="#updateInfo" type="button" role="tab" aria-controls="updateInfo" aria-selected="true">Modifier
          Information</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link navTabsButton" id="updatePassword-tab" data-bs-toggle="pill"
          data-bs-target="#updatePassword" type="button" role="tab" aria-controls="updatePassword"
          aria-selected="false">Modifier Mot de passe</button>
      </li>
    </ul>

    <div class="tab-content w-100 h-100" id="pills-tabContent">
      <div class="tab-pane fade show active" id="updateInfo" role="tabpanel" aria-labelledby="updateInfo-tab"
        tabindex="0">
        <form action="" class="p-3">
          <div class="form-floating mb-3">
            <input type="text" class="form-control" id="floatingInput" placeholder="name@example.com" name="prenom"
              [(ngModel)]="prenom" (input)="verifiPrenom()">
            <label for="floatingInput">Prénom</label>
            @if(exactNom == true){
            <span class="text-danger">{{ verifPrenom }}</span>
            }@else {
            <span class="text-danger">{{ verifPrenom }}</span>
            }
          </div>
          <div class="form-floating mb-3">
            <input type="text" class="form-control" id="floatingInput" placeholder="name@example.com" name="nom"
              [(ngModel)]="nom" (input)="verifiNom()">
            <label for="floatingInput">Nom</label>
            @if(exactNom == true){
            <span class="text-success">{{ verifNom }}</span>
            }@else {
            <span class="text-danger">{{ verifNom }}</span>
            }
          </div>
          <div class="form-floating mb-3">
            <input type="text" class="form-control" id="floatingInput" placeholder="name@example.com" name="telephone"
              [(ngModel)]="telephone" (input)=" verifiTel()">
            <label for="floatingInput">Téléphone</label>
            @if(exactTelephone == true){
            <span class="text-danger">{{ verifTelephone }}</span>
            }@else {
            <span class="text-danger">{{ verifTelephone }}</span>
            }
          </div>
          <div class="form-floating mb-3">
            <input type="text" class="form-control" id="floatingInput" placeholder="name@example.com" name="adresse"
              [(ngModel)]="adresse" (input)="verifiAdresse()">
            <label for="floatingInput">Addresse</label>
            @if(exactTelephone == true){
            <span class="text-danger">{{ verifAdresse }}</span>
            }@else {
            <span class="text-danger">{{ verifAdresse }}</span>
            }
          </div>
          <button type="submit" class="btn btn-primary" (click)="onUpdateProfile()" [disabled]="!(exactNom && exactPrenom && exactAdresse && exactTelephone)">Enregistrer</button>
        </form>
      </div>

      <div class="tab-pane fade " id="updatePassword" role="tabpanel" aria-labelledby="updatePassword-tab" tabindex="0">
        <form action="" class="p-3">
          <div class="form-floating mb-3">
            <input type="password" class="form-control" id="floatingInput" placeholder="name@example.com"
              name="password" [(ngModel)]="password">
            <label for="floatingInput" name="">Ancien Mot de Passe</label>
          </div>
          <div class="form-floating mb-3">
            <input type="password" class="form-control" id="floatingInput" placeholder="name@example.com"
              name="newPassword" [(ngModel)]="newPassword">
            <label for="floatingInput">Nouveau Mot de Passe</label>
          </div>
          <div class="form-floating mb-3">
            <input type="password" class="form-control" id="floatingInput" placeholder="name@example.com"
              name="confirmPassword" [(ngModel)]="confirmPassword">
            <label for="floatingInput">Confirmation du Mot de Passe</label>
          </div>
          <button type="submit" class="btn" (click)="onUpdatePassword()"
            [disabled]="!(password !== '' && newPassword === confirmPassword)">Enregistrer</button>
        </form>

      </div>
    </div>
  </div>
</main>
